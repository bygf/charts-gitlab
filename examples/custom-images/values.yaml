# --- Global settings ---

.custom-gitlab: &custom-gitlab
  image:
    registry: custom.registry.com
    repository: custom-repository

global:
  <<: *custom-gitlab
  busybox: *custom-gitlab

# Need to set NGINX-Ingress specifically because
# it already has locally-set image configuration
# in its values.yaml file.
nginx-ingress:
  controller: *custom-gitlab
  defaultBackend: *custom-gitlab

# --- Charts from requirements.yaml ---

# YAML anchor to demonstrate setting image.repository and image.tag
.custom: &custom
  image:
    repository: custom-repository
    tag: 1.2.3-example

certmanager:
  <<: *custom
  cainjector: *custom

gitlab-runner:
  image:
    image: custom-repository
    tag: custom-tag

minio:
  image: custom-repository
  imageTag: custom-tag
  minioMc:
    image: custom-repository
    tag: custom-tag

postgresql:
  image:
    registry: custom-registry
    repository: custom-image
    tag: 12-custom-tag # start with number to make checkConfig happy
  metrics:
    image:
      registry: custom-registry
      repository: custom-image
      tag: custom-tag

prometheus:
  server: *custom
  configmapReload: *custom

redis:
  image:
    registry: custom-registry
    repository: custom-image
    tag: custom-tag
  metrics:
    image:
      registry: custom-registry
      repository: custom-image
      tag: custom-tag

# If `global.grafana.enabled=true`, uncomment below to set the custom image
# grafana:
#   <<: *custom
#   sidecar:
#     image: custom-repository:custom-tag
